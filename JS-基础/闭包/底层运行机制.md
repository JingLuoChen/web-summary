# JavaScript闭包的底层运行机制
## 作用域链（Scope Chain）
当JavaScript在运行的时候，它需要一些空间让它来存储本地变量，我们将这些空间称为作用域对象，有时候也称作LexicalEnvironment。

例如，当你调用函数时，函数定义来一些本地变量，这些变量就被存储在一个作用域对象中，你可以将作用域函数想象成一个普通的javascript对象，
但是有一个很大的区别就是你不能够直接在javascript当中直接获取这个对象，你只可以修改这个对象的属性，但是你不能够获取这个对象的引用。

作用域对象的概念使得JavaScript和C、C++非常不同。
在C、C++中，本地变量被保存在栈（stack）中
在JavaScript中，作用域对象是在堆中被创建的，所以在函数返回后它们也还是能够被访问到而不被销毁

作用域对象是可以有父作用域对象的，当代码试图访问一个变量的时候，解释器将在当前的作用域对象中查找这个属性。
如果这个属性不存在，那么解释器就会在父作用域对象中查找这个属性，就这样，一直向父作用域对象查找，直到找到该属性或者再也没有父作用域对象。
这个查找变量的过程中所经过的作用域对象称作作用域链


## 全局环境中运行的代码
```javascript
"use strict";

var foo = 1
var bar = 2
```

我们在全局环境中创建了两个变量，此时的作用域对象就是全局对象


## 参考文档

* [JavaScript闭包的底层运行机制](http://blog.leapoahead.com/2015/09/15/js-closure/)

