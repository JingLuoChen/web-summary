# 网页被浏览器渲染的过程
## 总体过程
```$xslt
1、URL输入
2、DNS解析
3、TCP连接
4、发送HTTP请求
5、服务器处理请求
6、服务器响应请求
7、浏览器解析渲染页面
8、连接结束
```
## URL输入
>URL中文名叫做统一资源定位符，统一资源定位符是对可以从互联网上得到的资源的位置和访问方法的一种简洁的表示，
是互联网上标准资源的地址，互联网上的每一个文件都有一个唯一的URL，它包含的信息指出文件的位置以及浏览器应该怎么处理它（俗称网址）

主要组成部分：scheme: // host.domain:port / path / filename ? abc = 123 # 456789
```$xslt
scheme: 定义因特网服务的类型，常见的协议有http、https、ftp、file
host: 定义域主机
domain: 定义因特网域名，比如baidu.com
port: 定义主机上的端口号（http默认的是80、https默认的是443）
path: 定义服务器上的路径
filename: 定义文档/资源的名称
query: 即查询参数
fragment: 即#后的hash值，一般用来定位到某个位置 
```
## DNS解析
### 解析过程
>DNS解析的过程就是寻找哪台机器上有你需要的资源的过程。当你在浏览器中输入一个地址时，例如www.baidu.com，其实不是百度网站的真正意义上的地址。

真正的查找顺序：浏览器缓存 -> 操作系统缓存 -> 本地host -> 路由器缓存 -> ISP DNS缓存 -> 顶级DNS服务器/根DNS服务器 

```$xslt
### 浏览器缓存
首先会向浏览器的缓存中读取上一次访问的记录，在chrome可以通过地址栏中输入chrome://net-internals/#dns查询缓存的当前状态
### 操作系统缓存
查找存储在系统运行内存中的缓存。
### hosts文件
查看本地硬盘的hosts文件，看看其中有没有和这个域名对应的规则，如果有的化就直接使用hosts文件里面的ip地址
### 路由器缓存
有些路由器也有DNS缓存的功能，访问过的域名会存在路由器上。
### ISP DNS缓存
互联网服务提供商（如中国电信）也会提供DNS服务
### 顶级DNS服务器/根DNS服务器 
根域名收到请求后，会判别这个域名（.com）是授权给哪台服务器管理，并返回这个顶级DNS服务器IP
```
>本地DNS服务器向域名的解析服务器发出请求，这时就能收到一个域名和IP地址对应关系，本地DNS服务器不仅要把IP地址返回给用户电脑，
还要把这个对应关系保存在缓存中，以备下次别的用户查询时，可以直接返回结果，加快网络访问

### 补充
#### 什么是DNS
>
#### DNS查询的两种方式：递归查询和迭代查询

## TCP连接

## 发送HTTP请求

## 服务器处理请求

## 服务器响应请求

## 浏览器解析渲染页面

## 参考文档
* [从输入URL到页面展示，你想知道些什么](https://juejin.im/post/5b148a2ce51d4506965908d2)
* [从URL输入到页面展现到底发生什么](https://juejin.im/post/5c7646f26fb9a049fd108380)
