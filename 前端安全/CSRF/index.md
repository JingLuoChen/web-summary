# CSRF攻击
## 概述
CSRF（Cross-Site Request Forgery）- 跨站请求伪造

攻击者诱导受害者进入第三方网站，在第三方网站中，向被攻击网站发送跨站请求，利用受害者在被攻击网站已经获取的注册凭证，
绕过后台的用户验证，达到冒充用户对被攻击的网站执行某项操作的目的

## CSRF攻击流程

```$xslt
* 受害者登录a.com, 并保留了登录凭证
* 攻击者引诱受害者访问了b.com
* b.com 向 a.com发送了一个请求：a.com/act=xx 浏览器会默认携带a.com的cookie
* a.com 接受到请求后，对请求进行验证，并确认是受害者的凭证，误以为是受害者自己发送的请求
* a.com以受害者的名义执行了act=xx
* 攻击完成，攻击者在受害者不知道的情况下，冒充受害者，让a.com执行了自己定义的操作
```
 
## CSRF可以做什么
可以理解CSrf攻击：攻击者盗用了你的身份，以你的名义发送恶意请求。CSRF能够做的事情包括：以你名义发送邮件，发消息，盗取你的账号，甚至购买商品，虚拟货币转账。。。

## CSRF的特点

* 攻击一般发起在第三方网站，而不是被攻击的网站。被攻击的网站无法防止攻击发生
* 攻击利用受害者在被攻击网站的登录凭证，冒充受害者提交操作，而不是直接窃取数据
* 整个过程攻击者并不能获取到受害的登录凭证，仅仅是'冒用'
* 跨站请求可以用各种方式：图片URl、超链接、CORS、Form提交等等，部分请求方式可以直接嵌入在第三方论坛、文章中，难以进行追踪

CSRF通常是跨域的，因为外域通常更容易被攻击者掌控，但是如果本域下有容易被利用的功能，比如可以发图和链接的论坛和评论区，攻击可以直接在本域下进行，而且这种攻击更加危险

## 防护策略
针对CSRF的两个特点
* CSRF通常发生在第三方域名
* CSRF攻击者不能获取到Cookie

## 参考文档
* [浅谈CSRF攻击方式](https://www.cnblogs.com/hyddd/archive/2009/04/09/1432744.html)
* [浅谈 CSRF 攻击方式](https://juejin.im/entry/6844903461293654024)
